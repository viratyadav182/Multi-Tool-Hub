<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Multi Tool Hub</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <style>

        /* Basic Reset & Typography */

        :root {

            --primary-bg: #f8f8f8;

            --secondary-bg: #ffffff;

            --text-color: #333;

            --light-text-color: #666;

            --accent-color: #007bff; /* A nice blue for accents */

            --border-color: #eee;

            --shadow-color: rgba(0, 0, 0, 0.08);

            --border-radius: 8px;

            --transition-speed: 0.3s ease;

        }



        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }



        body {

            font-family: 'Roboto', sans-serif;

            line-height: 1.6;

            color: var(--text-color);

            background-color: var(--primary-bg);

            display: flex;

            flex-direction: column;

            min-height: 100vh;

        }



        .container {

            max-width: 1200px;

            margin: 0 auto;

            padding: 0 20px;

        }



        a {

            color: var(--accent-color);

            text-decoration: none;

        }



        a:hover {

            text-decoration: underline;

        }



        /* Header */

        .header {

            background-color: var(--secondary-bg);

            padding: 20px 0;

            box-shadow: 0 2px 4px var(--shadow-color);

            position: sticky;

            top: 0;

            z-index: 1000;

        }



        .header .container {

            display: flex;

            justify-content: space-between;

            align-items: center;

        }



        .logo {

            font-size: 1.8em;

            font-weight: 700;

            color: var(--text-color);

        }



        .main-nav .nav-list {

            list-style: none;

            display: flex;

        }



        .main-nav .nav-item {

            margin-left: 30px;

            font-weight: 400;

            color: var(--light-text-color);

            position: relative;

        }



        .main-nav .nav-item::after {

            content: '';

            position: absolute;

            left: 0;

            bottom: -5px;

            width: 0;

            height: 2px;

            background-color: var(--accent-color);

            transition: width var(--transition-speed);

        }



        .main-nav .nav-item:hover::after {

            width: 100%;

        }



        .nav-toggle {

            display: none; /* Hidden on desktop */

            background: none;

            border: none;

            font-size: 2em;

            color: var(--text-color);

            cursor: pointer;

        }



        /* AdSense specific styling */

        .ads-container {

            margin: 30px auto; /* Adjust margin as needed */

            text-align: center;

            /* You might want to set a min-height or specific width/height for placeholders

               if you have fixed-size ad units, but flexible is generally better for AdSense */

            min-height: 100px; /* Example min-height for visibility */

            background-color: #f0f0f0; /* Light background to make placeholder visible */

            border: 1px dashed #ccc; /* Dashed border for placeholder */

            display: flex;

            align-items: center;

            justify-content: center;

            color: #888;

            font-size: 0.9em;

        }



        /* Main Content */

        .main-content {

            flex-grow: 1;

            padding: 40px 0;

        }



        .tool-category {

            margin-bottom: 60px;

        }



        .tool-category h2 {

            text-align: center;

            font-size: 2.5em;

            margin-bottom: 40px;

            color: var(--text-color);

            position: relative;

            padding-bottom: 10px;

        }



        .tool-category h2::after {

            content: '';

            position: absolute;

            left: 50%;

            transform: translateX(-50%);

            bottom: 0;

            width: 60px;

            height: 3px;

            background-color: var(--accent-color);

            border-radius: 2px;

        }





        .tool-grid {

            display: grid;

            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));

            gap: 30px;

        }



        .tool-card {

            background-color: var(--secondary-bg);

            border-radius: var(--border-radius);

            box-shadow: 0 4px 8px var(--shadow-color);

            padding: 30px;

            text-align: center;

            transition: transform var(--transition-speed), box-shadow var(--transition-speed);

            display: flex;

            flex-direction: column;

            justify-content: space-between;

        }



        .tool-card:hover {

            transform: translateY(-5px);

            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);

        }



        .tool-card h3 {

            font-size: 1.5em;

            margin-bottom: 15px;

            color: var(--text-color);

        }



        .tool-card p {

            font-size: 0.95em;

            color: var(--light-text-color);

            margin-bottom: 25px;

        }



        .open-tool-btn {

            background-color: var(--accent-color);

            color: white;

            padding: 12px 25px;

            border: none;

            border-radius: 5px;

            cursor: pointer;

            font-size: 1em;

            font-weight: 500;

            transition: background-color var(--transition-speed);

        }



        .open-tool-btn:hover {

            background-color: #0056b3; /* Darker blue for hover */

        }



        /* Footer */

        .footer {

            background-color: var(--text-color);

            color: white;

            padding: 20px 0;

            text-align: center;

            font-size: 0.9em;

        }



        /* Tool Modal */

        .tool-modal {

            display: none; /* Hidden by default */

            position: fixed; /* Stay in place */

            z-index: 1001; /* Sit on top */

            left: 0;

            top: 0;

            width: 100%; /* Full width */

            height: 100%; /* Full height */

            overflow: auto; /* Enable scroll if needed */

            background-color: rgba(0, 0, 0, 0.6); /* Black w/ opacity */

            display: flex;

            justify-content: center;

            align-items: center;

            opacity: 0;

            visibility: hidden;

            transition: opacity var(--transition-speed), visibility var(--transition-speed);

        }



        .tool-modal.active {

            opacity: 1;

            visibility: visible;

        }



        .tool-modal-content {

            background-color: var(--secondary-bg);

            margin: auto;

            padding: 30px;

            border-radius: var(--border-radius);

            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);

            position: relative;

            width: 90%;

            max-width: 700px;

            transform: translateY(-50px);

            transition: transform var(--transition-speed), opacity var(--transition-speed);

        }



        .tool-modal.active .tool-modal-content {

            transform: translateY(0);

            opacity: 1;

        }



        .close-button {

            color: #aaa;

            position: absolute;

            top: 15px;

            right: 25px;

            font-size: 30px;

            font-weight: bold;

            cursor: pointer;

        }



        .close-button:hover,

        .close-button:focus {

            color: var(--text-color);

            text-decoration: none;

        }



        /* Individual Tool Styles (Examples - will be inside modal-tool-container) */

        .tool-container {

            padding: 20px;

        }



        .tool-container h3 {

            font-size: 2em;

            margin-bottom: 20px;

            text-align: center;

        }



        .tool-input, .tool-output, .tool-select {

            width: 100%;

            padding: 12px;

            margin-bottom: 15px;

            border: 1px solid var(--border-color);

            border-radius: 5px;

            font-size: 1em;

            font-family: 'Roboto', sans-serif;

        }



        .tool-button {

            background-color: var(--accent-color);

            color: white;

            padding: 12px 20px;

            border: none;

            border-radius: 5px;

            cursor: pointer;

            font-size: 1em;

            transition: background-color var(--transition-speed);

            margin-right: 10px;

        }



        .tool-button:hover {

            background-color: #0056b3;

        }



        /* Checkbox/Radio styling for tools */

        .tool-container input[type="checkbox"],

        .tool-container input[type="radio"] {

            margin-right: 8px;

            vertical-align: middle;

            transform: scale(1.2); /* Make checkboxes/radios slightly larger */

        }

        .tool-container label {

            display: inline-block;

            margin-bottom: 10px;

            color: var(--light-text-color);

        }

        .tool-container p {

            margin-bottom: 10px;

        }





        /* Responsiveness */

        @media (max-width: 768px) {

            .header .container {

                flex-direction: column;

                text-align: center;

            }



            .logo {

                margin-bottom: 15px;

            }



            .main-nav {

                width: 100%;

            }



            .nav-toggle {

                display: block;

                align-self: flex-end;

                margin-top: -45px; /* Adjust to position correctly */

                margin-right: 10px;

            }



            .main-nav .nav-list {

                flex-direction: column;

                width: 100%;

                display: none; /* Hidden by default on mobile */

                max-height: 0;

                overflow: hidden;

                transition: max-height 0.3s ease-out;

            }



            .main-nav .nav-list.active {

                display: flex;

                max-height: 300px; /* Adjust based on number of items */

            }



            .main-nav .nav-item {

                margin: 10px 0;

                padding: 10px 0;

                border-bottom: 1px solid var(--border-color);

            }



            .main-nav .nav-item:last-child {

                border-bottom: none;

            }



            .tool-category h2 {

                font-size: 2em;

            }



            .tool-grid {

                grid-template-columns: 1fr; /* Single column on small screens */

            }



            .tool-card {

                padding: 20px;

            }



            .tool-modal-content {

                width: 95%;

                padding: 20px;

            }



            /* Responsive AdSense placeholder */

            .ads-container {

                margin: 20px auto;

                min-height: 80px;

            }

        }



        @media (max-width: 480px) {

            .header {

                padding: 15px 0;

            }



            .logo {

                font-size: 1.5em;

            }



            .main-content {

                padding: 20px 0;

            }



            .tool-category {

                margin-bottom: 40px;

            }



            .tool-category h2 {

                font-size: 1.8em;

                margin-bottom: 30px;

            }



            .ads-container {

                min-height: 60px;

            }

        }

    </style>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_PUBLISHER_ID_HERE"

     crossorigin="anonymous"></script>

</head>

<body>

    <header class="header">

        <div class="container">

            <h1 class="logo">Multi Tool Hub</h1>

            <nav class="main-nav">

                <button class="nav-toggle" aria-label="Toggle navigation">&#9776;</button>

                <ul class="nav-list">

                    <li><a href="#text-tools" class="nav-item">Text Tools</a></li>

                    <li><a href="#color-tools" class="nav-item">Color Tools</a></li>

                    <li><a href="#converter-tools" class="nav-item">Converters</a></li>

                    <li><a href="#utility-tools" class="nav-item">Utilities</a></li>

                </ul>

            </nav>

        </div>

    </header>



    <div class="container ads-container">

        <ins class="adsbygoogle"

             style="display:block"

             data-ad-client="ca-pub-YOUR_ADSENSE_PUBLISHER_ID_HERE"

             data-ad-slot="YOUR_AD_UNIT_SLOT_ID_1_HERE"

             data-ad-format="auto"

             data-full-width-responsive="true"></ins>

        <script>

             (adsbygoogle = window.adsbygoogle || []).push({});

        </script>

        <span class="ads-text">Ad Unit 1 Placeholder</span>

    </div>



    <main class="main-content">

        <section id="text-tools" class="tool-category">

            <div class="container">

                <h2>Text Tools</h2>

                <div class="tool-grid">

                    <div class="tool-card" data-tool="text-case-converter">

                        <h3>Text Case Converter</h3>

                        <p>Convert text to uppercase, lowercase, title case, and more.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="character-counter">

                        <h3>Character Counter</h3>

                        <p>Count characters and words in your text.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="url-encoder-decoder">

                        <h3>URL Encoder/Decoder</h3>

                        <p>Encode or decode URL components for safe transmission.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="base64-encoder-decoder">

                        <h3>Base64 Encoder/Decoder</h3>

                        <p>Encode or decode text to/from Base64 format.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="markdown-to-html">

                        <h3>Markdown to HTML</h3>

                        <p>Convert basic Markdown syntax to HTML.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="line-sorter">

                        <h3>Line Sorter</h3>

                        <p>Sort lines of text alphabetically, reverse, or randomly.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="duplicate-line-remover">

                        <h3>Duplicate Line Remover</h3>

                        <p>Remove duplicate lines from your text.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                </div>

            </div>

        </section>



        <section id="color-tools" class="tool-category">

            <div class="container">

                <h2>Color Tools</h2>

                <div class="tool-grid">

                    <div class="tool-card" data-tool="color-converter">

                        <h3>Color Converter</h3>

                        <p>Convert between HEX, RGB, HSL color formats.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="color-picker">

                        <h3>Color Picker</h3>

                        <p>Select colors and get their values.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                </div>

            </div>

        </section>



        <section id="converter-tools" class="tool-category">

            <div class="container">

                <h2>Converter Tools</h2>

                <div class="tool-grid">

                    <div class="tool-card" data-tool="unit-converter">

                        <h3>Unit Converter</h3>

                        <p>Convert common units (length, weight, temperature).</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="temperature-converter">

                        <h3>Temperature Converter</h3>

                        <p>Convert between Celsius, Fahrenheit, and Kelvin.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="data-size-converter">

                        <h3>Data Size Converter</h3>

                        <p>Convert between Bytes, KB, MB, GB, etc.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                </div>

            </div>

        </section>



        <section id="utility-tools" class="tool-category">

            <div class="container">

                <h2>Utility Tools</h2>

                <div class="tool-grid">

                    <div class="tool-card" data-tool="random-number-generator">

                        <h3>Random Number Generator</h3>

                        <p>Generate random numbers within a specified range.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="simple-stopwatch">

                        <h3>Simple Stopwatch</h3>

                        <p>A basic stopwatch to measure time.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                    <div class="tool-card" data-tool="password-generator">

                        <h3>Password Generator</h3>

                        <p>Generate strong, random passwords.</p>

                        <button class="open-tool-btn">Open Tool</button>

                    </div>

                </div>

            </div>

        </section>

    </main>



    <div class="container ads-container">

        <ins class="adsbygoogle"

             style="display:block"

             data-ad-client="ca-pub-YOUR_ADSENSE_PUBLISHER_ID_HERE"

             data-ad-slot="YOUR_AD_UNIT_SLOT_ID_2_HERE"

             data-ad-format="auto"

             data-full-width-responsive="true"></ins>

        <script>

             (adsbygoogle = window.adsbygoogle || []).push({});

        </script>

        <span class="ads-text">Ad Unit 2 Placeholder</span>

    </div>



    <footer class="footer">

        <div class="container">

            <p>&copy; 2025 Multi Tool Hub. All rights reserved.</p>

        </div>

    </footer>



    <div id="tool-modal" class="tool-modal">

        <div class="tool-modal-content">

            <span class="close-button">&times;</span>

            <div id="modal-tool-container">

                </div>

        </div>

    </div>



    <script>

        document.addEventListener('DOMContentLoaded', () => {

            const navToggle = document.querySelector('.nav-toggle');

            const navList = document.querySelector('.nav-list');

            const toolModal = document.getElementById('tool-modal');

            const closeModalButton = document.querySelector('.tool-modal .close-button');

            const modalToolContainer = document.getElementById('modal-tool-container');

            const openToolButtons = document.querySelectorAll('.open-tool-btn');



            // 1. Mobile Navigation Toggle

            navToggle.addEventListener('click', () => {

                navList.classList.toggle('active');

            });



            // Close nav when a link is clicked (for smooth scrolling/UX)

            navList.querySelectorAll('.nav-item').forEach(item => {

                item.addEventListener('click', () => {

                    if (navList.classList.contains('active')) {

                        navList.classList.remove('active');

                    }

                });

            });



            // 2. Tool Modal Handling

            openToolButtons.forEach(button => {

                button.addEventListener('click', (event) => {

                    const toolName = event.target.closest('.tool-card').dataset.tool;

                    loadToolIntoModal(toolName);

                    toolModal.classList.add('active');

                });

            });



            closeModalButton.addEventListener('click', () => {

                toolModal.classList.remove('active');

                // Clear modal content when closed

                modalToolContainer.innerHTML = '';

            });



            // Close modal if clicked outside content

            toolModal.addEventListener('click', (event) => {

                if (event.target === toolModal) {

                    toolModal.classList.remove('active');

                    modalToolContainer.innerHTML = '';

                }

            });



            // 3. Load Tool Content Dynamically

            function loadToolIntoModal(toolName) {

                let toolHtml = '';

                let toolScript = ''; // To execute tool-specific JS



                switch (toolName) {

                    case 'text-case-converter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Text Case Converter</h3>

                                <textarea id="caseConverterInput" class="tool-input" rows="8" placeholder="Enter your text here..."></textarea>

                                <div style="margin-bottom: 15px;">

                                    <button class="tool-button" data-action="uppercase">Uppercase</button>

                                    <button class="tool-button" data-action="lowercase">Lowercase</button>

                                    <button class="tool-button" data-action="titlecase">Title Case</button>

                                    <button class="tool-button" data-action="sentencecase">Sentence Case</button>

                                    <button class="tool-button" data-action="clear">Clear</button>

                                </div>

                                <textarea id="caseConverterOutput" class="tool-output" rows="8" readonly placeholder="Converted text will appear here..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const inputElem = document.getElementById('caseConverterInput');

                            const outputElem = document.getElementById('caseConverterOutput');

                            const buttons = document.querySelectorAll('#modal-tool-container .tool-button');



                            buttons.forEach(button => {

                                button.addEventListener('click', () => {

                                    const action = button.dataset.action;

                                    let text = inputElem.value;

                                    switch (action) {

                                        case 'uppercase':

                                            outputElem.value = text.toUpperCase();

                                            break;

                                        case 'lowercase':

                                            outputElem.value = text.toLowerCase();

                                            break;

                                        case 'titlecase':

                                            // Simple title case: capitalize first letter of each word

                                            outputElem.value = text.replace(/\\b\\w/g, char => char.toUpperCase());

                                            break;

                                        case 'sentencecase':

                                            // Capitalize first letter of sentence after a period, question mark, or exclamation mark

                                            outputElem.value = text.toLowerCase().replace(/(^\\s*\\w|[.?!]\\s*\\w)/g, char => char.toUpperCase());

                                            break;

                                        case 'clear':

                                            inputElem.value = '';

                                            outputElem.value = '';

                                            break;

                                        case 'copy':

                                            outputElem.select();

                                            document.execCommand('copy');

                                            alert('Copied to clipboard!');

                                            break;

                                    }

                                });

                            });

                        `;

                        break;

                    case 'character-counter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Character & Word Counter</h3>

                                <textarea id="counterInput" class="tool-input" rows="10" placeholder="Type or paste your text here..."></textarea>

                                <p>Characters: <span id="charCount">0</span></p>

                                <p>Words: <span id="wordCount">0</span></p>

                            </div>

                        `;

                        toolScript = `

                            const counterInput = document.getElementById('counterInput');

                            const charCount = document.getElementById('charCount');

                            const wordCount = document.getElementById('wordCount');



                            counterInput.addEventListener('input', () => {

                                const text = counterInput.value;

                                charCount.textContent = text.length;

                                // Split by any whitespace and filter out empty strings

                                const words = text.split(/\\s+/).filter(word => word.length > 0);

                                wordCount.textContent = words.length;

                            });

                        `;

                        break;

                    case 'url-encoder-decoder':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>URL Encoder/Decoder</h3>

                                <textarea id="urlInput" class="tool-input" rows="6" placeholder="Enter URL or text..."></textarea>

                                <div style="margin-bottom: 15px;">

                                    <button class="tool-button" data-action="encode">Encode URL</button>

                                    <button class="tool-button" data-action="decode">Decode URL</button>

                                </div>

                                <textarea id="urlOutput" class="tool-output" rows="6" readonly placeholder="Result..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const urlInput = document.getElementById('urlInput');

                            const urlOutput = document.getElementById('urlOutput');

                            const buttons = document.querySelectorAll('#modal-tool-container .tool-button');



                            buttons.forEach(button => {

                                button.addEventListener('click', () => {

                                    const action = button.dataset.action;

                                    let text = urlInput.value;

                                    try {

                                        if (action === 'encode') {

                                            urlOutput.value = encodeURIComponent(text);

                                        } else if (action === 'decode') {

                                            urlOutput.value = decodeURIComponent(text);

                                        } else if (action === 'copy') {

                                            urlOutput.select();

                                            document.execCommand('copy');

                                            alert('Copied to clipboard!');

                                        }

                                    } catch (e) {

                                        urlOutput.value = 'Error: Invalid input for decoding.';

                                    }

                                });

                            });

                        `;

                        break;

                    case 'base64-encoder-decoder':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Base64 Encoder/Decoder</h3>

                                <textarea id="base64Input" class="tool-input" rows="6" placeholder="Enter text or Base64 string..."></textarea>

                                <div style="margin-bottom: 15px;">

                                    <button class="tool-button" data-action="encode">Encode Base64</button>

                                    <button class="tool-button" data-action="decode">Decode Base64</button>

                                </div>

                                <textarea id="base64Output" class="tool-output" rows="6" readonly placeholder="Result..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const base64Input = document.getElementById('base64Input');

                            const base64Output = document.getElementById('base64Output');

                            const buttons = document.querySelectorAll('#modal-tool-container .tool-button');



                            buttons.forEach(button => {

                                button.addEventListener('click', () => {

                                    const action = button.dataset.action;

                                    let text = base64Input.value;

                                    try {

                                        if (action === 'encode') {

                                            // btoa only works on ASCII. For Unicode, encode to UTF-8 first.

                                            base64Output.value = btoa(unescape(encodeURIComponent(text)));

                                        } else if (action === 'decode') {

                                            // atob only works on Base64 string. Decode from Base64 then decode URI.

                                            base64Output.value = decodeURIComponent(escape(atob(text)));

                                        } else if (action === 'copy') {

                                            base64Output.select();

                                            document.execCommand('copy');

                                            alert('Copied to clipboard!');

                                        }

                                    } catch (e) {

                                        base64Output.value = 'Error: Invalid Base64 string or encoding issue. Make sure input is valid.';

                                    }

                                });

                            });

                        `;

                        break;

                    case 'markdown-to-html':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Markdown to HTML Converter</h3>

                                <textarea id="markdownInput" class="tool-input" rows="10" placeholder="Enter Markdown text here..."></textarea>

                                <button class="tool-button" id="convertMarkdownBtn">Convert to HTML</button>

                                <textarea id="htmlOutput" class="tool-output" rows="10" readonly placeholder="HTML output will appear here..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const markdownInput = document.getElementById('markdownInput');

                            const htmlOutput = document.getElementById('htmlOutput');

                            const convertMarkdownBtn = document.getElementById('convertMarkdownBtn');



                            convertMarkdownBtn.addEventListener('click', () => {

                                let markdownText = markdownInput.value;



                                // Preserve line breaks for processing

                                markdownText = markdownText.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');



                                // Blockquotes: > text

                                markdownText = markdownText.replace(/^>\\s*(.*)$/gim, '<blockquote><p>$1</p></blockquote>');



                                // Headings (H1-H6)

                                markdownText = markdownText.replace(/^######\\s*(.*$)/gim, '<h6>$1</h6>');

                                markdownText = markdownText.replace(/^#####\\s*(.*$)/gim, '<h5>$1</h5>');

                                markdownText = markdownText.replace(/^####\\s*(.*$)/gim, '<h4>$1</h4>');

                                markdownText = markdownText.replace(/^###\\s*(.*$)/gim, '<h3>$1</h3>');

                                markdownText = markdownText.replace(/^##\\s*(.*$)/gim, '<h2>$1</h2>');

                                markdownText = markdownText.replace(/^#\\s*(.*$)/gim, '<h1>$1</h1>');



                                // Horizontal Rule: --- or *** or ___

                                markdownText = markdownText.replace(/^[\\*\\-_]{3,}\\s*$/gim, '<hr>');



                                // Bold: **text** or __text__

                                markdownText = markdownText.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');

                                markdownText = markdownText.replace(/\\_\\_(.*?)\\_\\_/g, '<strong>$1</strong>');



                                // Italic: *text* or _text_

                                markdownText = markdownText.replace(/\\*(.*?)\\*/g, '<em>$1</em>');

                                markdownText = markdownText.replace(/\\_(.*?)\\_/g, '<em>$1</em>');



                                // Code: `code`

                                markdownText = markdownText.replace(/`([^`]+)`/g, '<code>$1</code>');



                                // Links: [text](url)

                                markdownText = markdownText.replace(/\\[(.*?)\\]\\((.*?)\\)/g, '<a href="$2">$1</a>');



                                // Simple Unordered List (requires lines to be grouped to apply <ul> properly)

                                // This is a very basic attempt. A true parser needs more state.

                                let htmlLines = markdownText.split('\\n');

                                let inUnorderedList = false;

                                let inOrderedList = false;

                                for (let i = 0; i < htmlLines.length; i++) {

                                    let line = htmlLines[i].trim();

                                    if (line.match(/^[\\*-]\\s/)) { // Unordered list item

                                        if (!inUnorderedList) {

                                            htmlLines[i] = '<ul>\n' + '<li>' + line.substring(line.indexOf(' ') + 1) + '</li>';

                                            inUnorderedList = true;

                                        } else {

                                            htmlLines[i] = '<li>' + line.substring(line.indexOf(' ') + 1) + '</li>';

                                        }

                                        inOrderedList = false; // Close ordered list if we were in one

                                    } else if (line.match(/^\\d+\\.\\s/)) { // Ordered list item

                                        if (!inOrderedList) {

                                            htmlLines[i] = '<ol>\n' + '<li>' + line.substring(line.indexOf(' ') + 1) + '</li>';

                                            inOrderedList = true;

                                        } else {

                                            htmlLines[i] = '<li>' + line.substring(line.indexOf(' ') + 1) + '</li>';

                                        }

                                        inUnorderedList = false; // Close unordered list if we were in one

                                    } else {

                                        if (inUnorderedList) {

                                            htmlLines[i] = '</ul>\n' + line;

                                            inUnorderedList = false;

                                        }

                                        if (inOrderedList) {

                                            htmlLines[i] = '</ol>\n' + line;

                                            inOrderedList = false;

                                        }

                                        // Paragraphs - wrap lines that are not part of other block elements

                                        if (line !== '' && !line.startsWith('<h') && !line.startsWith('<ul') && !line.startsWith('<ol') && !line.startsWith('<li') && !line.startsWith('<block')) {

                                            htmlLines[i] = '<p>' + line + '</p>';

                                        }

                                    }

                                }

                                // Final close for lists if they ended without a new line

                                if (inUnorderedList) htmlLines.push('</ul>');

                                if (inOrderedList) htmlLines.push('</ol>');



                                htmlOutput.value = htmlLines.join('\\n');

                            });



                            document.querySelector('#modal-tool-container [data-action="copy"]').addEventListener('click', () => {

                                htmlOutput.select();

                                document.execCommand('copy');

                                alert('Copied to clipboard!');

                            });

                        `;

                        break;

                    case 'line-sorter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Line Sorter</h3>

                                <textarea id="lineSorterInput" class="tool-input" rows="10" placeholder="Enter lines of text, one per line..."></textarea>

                                <div style="margin-bottom: 15px;">

                                    <button class="tool-button" data-sort="alphabetical">Alphabetical (A-Z)</button>

                                    <button class="tool-button" data-sort="reverse-alphabetical">Reverse (Z-A)</button>

                                    <button class="tool-button" data-sort="random">Random</button>

                                </div>

                                <textarea id="lineSorterOutput" class="tool-output" rows="10" readonly placeholder="Sorted lines will appear here..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const lineSorterInput = document.getElementById('lineSorterInput');

                            const lineSorterOutput = document.getElementById('lineSorterOutput');

                            const sortButtons = document.querySelectorAll('#modal-tool-container [data-sort]');



                            sortButtons.forEach(button => {

                                button.addEventListener('click', () => {

                                    let lines = lineSorterInput.value.split('\\n').map(line => line.trim()).filter(line => line !== '');

                                    const sortType = button.dataset.sort;



                                    if (lines.length === 0) {

                                        lineSorterOutput.value = '';

                                        return;

                                    }



                                    switch (sortType) {

                                        case 'alphabetical':

                                            lines.sort((a, b) => a.localeCompare(b));

                                            break;

                                        case 'reverse-alphabetical':

                                            lines.sort((a, b) => b.localeCompare(a));

                                            break;

                                        case 'random':

                                            for (let i = lines.length - 1; i > 0; i--) {

                                                const j = Math.floor(Math.random() * (i + 1));

                                                [lines[i], lines[j]] = [lines[j], lines[i]]; // ES6 destructuring swap

                                            }

                                            break;

                                    }

                                    lineSorterOutput.value = lines.join('\\n');

                                });

                            });



                            document.querySelector('#modal-tool-container [data-action="copy"]').addEventListener('click', () => {

                                lineSorterOutput.select();

                                document.execCommand('copy');

                                alert('Copied to clipboard!');

                            });

                        `;

                        break;

                    case 'duplicate-line-remover':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Duplicate Line Remover</h3>

                                <textarea id="duplicateRemoverInput" class="tool-input" rows="10" placeholder="Enter text with potential duplicate lines..."></textarea>

                                <button class="tool-button" id="removeDuplicatesBtn">Remove Duplicates</button>

                                <textarea id="duplicateRemoverOutput" class="tool-output" rows="10" readonly placeholder="Text with duplicates removed will appear here..."></textarea>

                                <button class="tool-button" data-action="copy" style="margin-top: 10px;">Copy Output</button>

                            </div>

                        `;

                        toolScript = `

                            const duplicateRemoverInput = document.getElementById('duplicateRemoverInput');

                            const duplicateRemoverOutput = document.getElementById('duplicateRemoverOutput');

                            const removeDuplicatesBtn = document.getElementById('removeDuplicatesBtn');



                            removeDuplicatesBtn.addEventListener('click', () => {

                                // Split lines, trim whitespace, and use a Set to find unique lines

                                const lines = duplicateRemoverInput.value.split('\\n');

                                const uniqueLines = [];

                                const seenLines = new Set(); // Stores trimmed lines to check for duplicates



                                lines.forEach(line => {

                                    const trimmedLine = line.trim();

                                    if (!seenLines.has(trimmedLine)) {

                                        uniqueLines.push(line); // Keep original line content if unique

                                        seenLines.add(trimmedLine);

                                    }

                                });

                                duplicateRemoverOutput.value = uniqueLines.join('\\n');

                            });



                            document.querySelector('#modal-tool-container [data-action="copy"]').addEventListener('click', () => {

                                duplicateRemoverOutput.select();

                                document.execCommand('copy');

                                alert('Copied to clipboard!');

                            });

                        `;

                        break;

                    case 'color-converter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Color Converter (HEX/RGB/HSL)</h3>

                                <input type="text" id="colorConvertInput" class="tool-input" placeholder="Enter HEX (#FF0000), RGB (255,0,0) or HSL (0,100%,50%)">

                                <button class="tool-button" id="convertColorBtn">Convert</button>

                                <p>HEX: <span id="hexOutput"></span></p>

                                <p>RGB: <span id="rgbOutput"></span></p>

                                <p>HSL: <span id="hslOutput"></span></p>

                                <div id="colorPreview" style="width: 80px; height: 80px; border: 1px solid #ccc; margin-top: 15px; border-radius: var(--border-radius);"></div>

                            </div>

                        `;

                        toolScript = `

                            const colorConvertInput = document.getElementById('colorConvertInput');

                            const convertColorBtn = document.getElementById('convertColorBtn');

                            const hexOutput = document.getElementById('hexOutput');

                            const rgbOutput = document.getElementById('rgbOutput');

                            const hslOutput = document.getElementById('hslOutput');

                            const colorPreview = document.getElementById('colorPreview');



                            function hexToRgb(hex) {

                                if (!hex || typeof hex !== 'string') return null;

                                const hexValue = hex.startsWith('#') ? hex.slice(1) : hex;

                                if (!/^[0-9A-Fa-f]{6}$|^[0-9A-Fa-f]{3}$/.test(hexValue)) return null;



                                let r = 0, g = 0, b = 0;

                                if (hexValue.length === 3) {

                                    r = parseInt(hexValue[0] + hexValue[0], 16);

                                    g = parseInt(hexValue[1] + hexValue[1], 16);

                                    b = parseInt(hexValue[2] + hexValue[2], 16);

                                } else if (hexValue.length === 6) {

                                    r = parseInt(hexValue.substring(0, 2), 16);

                                    g = parseInt(hexValue.substring(2, 4), 16);

                                    b = parseInt(hexValue.substring(4, 6), 16);

                                }

                                return { r, g, b };

                            }



                            function rgbToHsl(r, g, b) {

                                r /= 255;

                                g /= 255;

                                b /= 255;



                                const max = Math.max(r, g, b);

                                const min = Math.min(r, g, b);

                                let h, s, l = (max + min) / 2;



                                if (max === min) {

                                    h = s = 0; // achromatic

                                } else {

                                    const d = max - min;

                                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                                    switch (max) {

                                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;

                                        case g: h = (b - r) / d + 2; break;

                                        case b: h = (r - g) / d + 4; break;

                                    }

                                    h /= 6;

                                }

                                return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };

                            }



                            function hslToRgb(h, s, l) {

                                h /= 360;

                                s /= 100;

                                l /= 100;

                                let r, g, b;



                                if (s === 0) {

                                    r = g = b = l; // achromatic

                                } else {

                                    const hue2rgb = (p, q, t) => {

                                        if (t < 0) t += 1;

                                        if (t > 1) t -= 1;

                                        if (t < 1 / 6) return p + (q - p) * 6 * t;

                                        if (t < 1 / 2) return q;

                                        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;

                                        return p;

                                    };

                                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;

                                    const p = 2 * l - q;

                                    r = hue2rgb(p, q, h + 1 / 3);

                                    g = hue2rgb(p, q, h);

                                    b = hue2rgb(p, q, h - 1 / 3);

                                }

                                return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };

                            }



                            function rgbToHex(r, g, b) {

                                return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();

                            }



                            convertColorBtn.addEventListener('click', () => {

                                const input = colorConvertInput.value.trim();

                                let r_val, g_val, b_val, h_val, s_val, l_val;



                                // Try HEX

                                let rgbFromHex = hexToRgb(input);

                                if (rgbFromHex) {

                                    ({r: r_val, g: g_val, b: b_val} = rgbFromHex);

                                }

                                // Try RGB

                                else if (input.toLowerCase().startsWith('rgb(')) {

                                    const matches = input.match(/\\d+/g);

                                    if (matches && matches.length === 3) {

                                        [r_val, g_val, b_val] = matches.map(Number);

                                    }

                                }

                                // Try HSL

                                else if (input.toLowerCase().startsWith('hsl(')) {

                                    const matches = input.match(/\\d+(\\.\\d+)?/g);

                                    if (matches && matches.length === 3) {

                                        [h_val, s_val, l_val] = matches.map(Number);

                                        ({r: r_val, g: g_val, b: b_val} = hslToRgb(h_val, s_val, l_val));

                                    }

                                }



                                if (r_val !== undefined && g_val !== undefined && b_val !== undefined && !isNaN(r_val) && !isNaN(g_val) && !isNaN(b_val)) {

                                    hexOutput.textContent = rgbToHex(r_val, g_val, b_val);

                                    rgbOutput.textContent = \`rgb(\${r_val}, \${g_val}, \${b_val})\`;

                                    const hsl = rgbToHsl(r_val, g_val, b_val);

                                    hslOutput.textContent = \`hsl(\${hsl.h}, \${hsl.s}%, \${hsl.l}%)\`;

                                    colorPreview.style.backgroundColor = \`rgb(\${r_val}, \${g_val}, \${b_val})\`;

                                } else {

                                    hexOutput.textContent = 'Invalid Color Format';

                                    rgbOutput.textContent = '';

                                    hslOutput.textContent = '';

                                    colorPreview.style.backgroundColor = 'transparent';

                                }

                            });

                        `;

                        break;

                    case 'color-picker':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Basic Color Picker</h3>

                                <input type="color" id="colorPickerInput" class="tool-input" value="#007bff" style="width: 100px; height: 50px;">

                                <p>HEX: <span id="pickerHex"></span></p>

                                <p>RGB: <span id="pickerRgb"></span></p>

                                <p>HSL: <span id="pickerHsl"></span></p>

                            </div>

                        `;

                        toolScript = `

                            const colorPickerInput = document.getElementById('colorPickerInput');

                            const pickerHex = document.getElementById('pickerHex');

                            const pickerRgb = document.getElementById('pickerRgb');

                            const pickerHsl = document.getElementById('pickerHsl');



                            // Re-using color conversion functions

                            // (If this were a larger project, these would be in a shared utility file)

                            function hexToRgb(hex) {

                                if (!hex || typeof hex !== 'string') return null;

                                const hexValue = hex.startsWith('#') ? hex.slice(1) : hex;

                                let r = parseInt(hexValue.substring(0, 2), 16);

                                let g = parseInt(hexValue.substring(2, 4), 16);

                                let b = parseInt(hexValue.substring(4, 6), 16);

                                return { r, g, b };

                            }



                            function rgbToHsl(r, g, b) {

                                r /= 255;

                                g /= 255;

                                b /= 255;



                                const max = Math.max(r, g, b);

                                const min = Math.min(r, g, b);

                                let h, s, l = (max + min) / 2;



                                if (max === min) {

                                    h = s = 0; // achromatic

                                } else {

                                    const d = max - min;

                                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                                    switch (max) {

                                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;

                                        case g: h = (b - r) / d + 2; break;

                                        case b: h = (r - g) / d + 4; break;

                                    }

                                    h /= 6;

                                }

                                return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };

                            }



                            function updateColorInfo() {

                                const hex = colorPickerInput.value;

                                pickerHex.textContent = hex.toUpperCase();



                                const rgb = hexToRgb(hex);

                                if (rgb) {

                                    pickerRgb.textContent = \`rgb(\${rgb.r}, \${rgb.g}, \${rgb.b})\`;

                                    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);

                                    pickerHsl.textContent = \`hsl(\${hsl.h}, \${hsl.s}%, \${hsl.l}%)\`;

                                } else {

                                    pickerRgb.textContent = 'Invalid';

                                    pickerHsl.textContent = 'Invalid';

                                }

                            }



                            colorPickerInput.addEventListener('input', updateColorInfo);

                            updateColorInfo(); // Initial update

                        `;

                        break;

                    case 'unit-converter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Simple Unit Converter</h3>

                                <select id="unitType" class="tool-select">

                                    <option value="length">Length</option>

                                    <option value="weight">Weight</option>

                                    <option value="area">Area</option>

                                    <option value="volume">Volume</option>

                                </select>

                                <input type="number" id="inputValue" class="tool-input" placeholder="Enter value">

                                <select id="inputUnit" class="tool-select"></select>

                                <span>to</span>

                                <select id="outputUnit" class="tool-select"></select>

                                <button class="tool-button" id="convertUnitBtn">Convert</button>

                                <p>Result: <span id="unitResult"></span></p>

                            </div>

                        `;

                        toolScript = `

                            const unitType = document.getElementById('unitType');

                            const inputValue = document.getElementById('inputValue');

                            const inputUnit = document.getElementById('inputUnit');

                            const outputUnit = document.getElementById('outputUnit');

                            const convertUnitBtn = document.getElementById('convertUnitBtn');

                            const unitResult = document.getElementById('unitResult');



                            const units = {

                                length: {

                                    'meter': 1, 'kilometer': 1000, 'centimeter': 0.01, 'millimeter': 0.001,

                                    'inch': 0.0254, 'foot': 0.3048, 'yard': 0.9144, 'mile': 1609.34

                                },

                                weight: {

                                    'kilogram': 1, 'gram': 0.001, 'milligram': 0.000001,

                                    'pound': 0.453592, 'ounce': 0.0283495

                                },

                                area: {

                                    'square meter': 1, 'square kilometer': 1000000, 'square centimeter': 0.0001,

                                    'square inch': 0.00064516, 'square foot': 0.092903, 'acre': 4046.86

                                },

                                volume: {

                                    'cubic meter': 1, 'cubic centimeter': 0.000001, 'liter': 0.001,

                                    'milliliter': 0.000001, 'gallon': 0.00378541, 'cubic foot': 0.0283168

                                }

                            };



                            function populateUnits() {

                                const selectedType = unitType.value;

                                const currentUnits = units[selectedType];

                                inputUnit.innerHTML = '';

                                outputUnit.innerHTML = '';

                                for (const unit in currentUnits) {

                                    const option1 = document.createElement('option');

                                    option1.value = unit;

                                    option1.textContent = unit;

                                    inputUnit.appendChild(option1);



                                    const option2 = document.createElement('option');

                                    option2.value = unit;

                                    option2.textContent = unit;

                                    outputUnit.appendChild(option2);

                                }

                            }



                            convertUnitBtn.addEventListener('click', () => {

                                const value = parseFloat(inputValue.value);

                                if (isNaN(value)) {

                                    unitResult.textContent = 'Please enter a valid number.';

                                    return;

                                }



                                const type = unitType.value;

                                const fromUnit = inputUnit.value;

                                const toUnit = outputUnit.value;



                                const baseValue = value * units[type][fromUnit]; // Convert to base unit

                                const result = baseValue / units[type][toUnit]; // Convert from base unit to target unit



                                unitResult.textContent = \`\${result.toFixed(6)} \${toUnit}\`;

                            });



                            unitType.addEventListener('change', populateUnits);

                            populateUnits(); // Initial population

                        `;

                        break;

                    case 'temperature-converter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Temperature Converter</h3>

                                <input type="number" id="tempInput" class="tool-input" placeholder="Enter temperature value">

                                <select id="fromUnit" class="tool-select">

                                    <option value="celsius">Celsius</option>

                                    <option value="fahrenheit">Fahrenheit</option>

                                    <option value="kelvin">Kelvin</option>

                                </select>

                                <span>to</span>

                                <select id="toUnit" class="tool-select">

                                    <option value="fahrenheit">Fahrenheit</option>

                                    <option value="celsius">Celsius</option>

                                    <option value="kelvin">Kelvin</option>

                                </select>

                                <button class="tool-button" id="convertTempBtn">Convert</button>

                                <p>Result: <span id="tempResult"></span></p>

                            </div>

                        `;

                        toolScript = `

                            const tempInput = document.getElementById('tempInput');

                            const fromUnit = document.getElementById('fromUnit');

                            const toUnit = document.getElementById('toUnit');

                            const convertTempBtn = document.getElementById('convertTempBtn');

                            const tempResult = document.getElementById('tempResult');



                            convertTempBtn.addEventListener('click', () => {

                                const value = parseFloat(tempInput.value);

                                if (isNaN(value)) {

                                    tempResult.textContent = 'Please enter a valid number.';

                                    return;

                                }



                                const from = fromUnit.value;

                                const to = toUnit.value;

                                let result;



                                // Convert everything to Celsius first for consistency

                                let celsiusValue;

                                if (from === 'celsius') {

                                    celsiusValue = value;

                                } else if (from === 'fahrenheit') {

                                    celsiusValue = (value - 32) * 5 / 9;

                                } else if (from === 'kelvin') {

                                    celsiusValue = value - 273.15;

                                }



                                // Convert from Celsius to target unit

                                if (to === 'celsius') {

                                    result = celsiusValue;

                                } else if (to === 'fahrenheit') {

                                    result = (celsiusValue * 9 / 5) + 32;

                                } else if (to === 'kelvin') {

                                    result = celsiusValue + 273.15;

                                }



                                tempResult.textContent = \`\${result.toFixed(2)} \${to.charAt(0).toUpperCase() + to.slice(1)}\`;

                            });

                        `;

                        break;

                    case 'data-size-converter':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Data Size Converter</h3>

                                <input type="number" id="dataInput" class="tool-input" placeholder="Enter size value">

                                <select id="fromDataUnit" class="tool-select">

                                    <option value="byte">Bytes (B)</option>

                                    <option value="kilobyte">Kilobytes (KB)</option>

                                    <option value="megabyte">Megabytes (MB)</option>

                                    <option value="gigabyte">Gigabytes (GB)</option>

                                    <option value="terabyte">Terabytes (TB)</option>

                                </select>

                                <span>to</span>

                                <select id="toDataUnit" class="tool-select">

                                    <option value="megabyte">Megabytes (MB)</option>

                                    <option value="byte">Bytes (B)</option>

                                    <option value="kilobyte">Kilobytes (KB)</option>

                                    <option value="gigabyte">Gigabytes (GB)</option>

                                    <option value="terabyte">Terabytes (TB)</option>

                                </select>

                                <button class="tool-button" id="convertDataBtn">Convert</button>

                                <p>Result: <span id="dataResult"></span></p>

                            </div>

                        `;

                        toolScript = `

                            const dataInput = document.getElementById('dataInput');

                            const fromDataUnit = document.getElementById('fromDataUnit');

                            const toDataUnit = document.getElementById('toDataUnit');

                            const convertDataBtn = document.getElementById('convertDataBtn');

                            const dataResult = document.getElementById('dataResult');



                            const dataUnits = {

                                'byte': 1,

                                'kilobyte': 1024,

                                'megabyte': 1024 * 1024,

                                'gigabyte': 1024 * 1024 * 1024,

                                'terabyte': 1024 * 1024 * 1024 * 1024

                            };



                            convertDataBtn.addEventListener('click', () => {

                                const value = parseFloat(dataInput.value);

                                if (isNaN(value)) {

                                    dataResult.textContent = 'Please enter a valid number.';

                                    return;

                                }



                                const from = fromDataUnit.value;

                                const to = toDataUnit.value;



                                // Convert input value to bytes

                                const bytes = value * dataUnits[from];

                                // Convert bytes to target unit

                                const result = bytes / dataUnits[to];



                                // Get the text of the selected option for the target unit (e.g., "Megabytes (MB)")

                                const toUnitText = toDataUnit.options[toDataUnit.selectedIndex].text;

                                // Extract just the abbreviation (e.g., "(MB)")

                                const unitAbbreviationMatch = toUnitText.match(/\\((.*?)\\)/);

                                const unitAbbreviation = unitAbbreviationMatch ? unitAbbreviationMatch[1] : to; // Fallback to raw value



                                dataResult.textContent = \`\${result.toFixed(4)} \${unitAbbreviation}\`;

                            });

                        `;

                        break;

                    case 'random-number-generator':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Random Number Generator</h3>

                                <label for="minNum">Min:</label>

                                <input type="number" id="minNum" class="tool-input" value="1">

                                <label for="maxNum">Max:</label>

                                <input type="number" id="maxNum" class="tool-input" value="100">

                                <button class="tool-button" id="generateRandomBtn">Generate</button>

                                <p>Result: <span id="randomNumberResult"></span></p>

                            </div>

                        `;

                        toolScript = `

                            const minNum = document.getElementById('minNum');

                            const maxNum = document.getElementById('maxNum');

                            const generateRandomBtn = document.getElementById('generateRandomBtn');

                            const randomNumberResult = document.getElementById('randomNumberResult');



                            generateRandomBtn.addEventListener('click', () => {

                                const min = parseInt(minNum.value);

                                const max = parseInt(maxNum.value);



                                if (isNaN(min) || isNaN(max)) {

                                    randomNumberResult.textContent = 'Please enter valid numbers.';

                                    return;

                                }

                                if (min > max) {

                                    randomNumberResult.textContent = 'Min cannot be greater than Max.';

                                    return;

                                }



                                const randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;

                                randomNumberResult.textContent = randomNumber;

                            });

                        `;

                        break;

                    case 'simple-stopwatch':

                        toolHtml = `

                            <div class="tool-container" style="text-align: center;">

                                <h3>Simple Stopwatch</h3>

                                <div id="stopwatchDisplay" style="font-size: 3em; margin: 20px 0; font-weight: bold;">00:00:00</div>

                                <div style="margin-bottom: 15px;">

                                    <button class="tool-button" id="startStopwatch">Start</button>

                                    <button class="tool-button" id="pauseStopwatch">Pause</button>

                                    <button class="tool-button" id="resetStopwatch">Reset</button>

                                </div>

                            </div>

                        `;

                        toolScript = `

                            const display = document.getElementById('stopwatchDisplay');

                            const startBtn = document.getElementById('startStopwatch');

                            const pauseBtn = document.getElementById('pauseStopwatch');

                            const resetBtn = document.getElementById('resetStopwatch');



                            let timer = null;

                            let startTime = 0;

                            let elapsedTime = 0;

                            let isRunning = false;



                            function formatTime(ms) {

                                const hours = Math.floor(ms / 3600000);

                                const minutes = Math.floor((ms % 3600000) / 60000);

                                const seconds = Math.floor((ms % 60000) / 1000);



                                const pad = (num) => String(num).padStart(2, '0');

                                return \`\${pad(hours)}:\${pad(minutes)}:\${pad(seconds)}\`;

                            }



                            function updateTime() {

                                const now = Date.now();

                                elapsedTime = now - startTime;

                                display.textContent = formatTime(elapsedTime);

                            }



                            startBtn.addEventListener('click', () => {

                                if (!isRunning) {

                                    startTime = Date.now() - elapsedTime;

                                    timer = setInterval(updateTime, 1000);

                                    isRunning = true;

                                }

                            });



                            pauseBtn.addEventListener('click', () => {

                                if (isRunning) {

                                    clearInterval(timer);

                                    isRunning = false;

                                }

                            });



                            resetBtn.addEventListener('click', () => {

                                clearInterval(timer);

                                isRunning = false;

                                elapsedTime = 0;

                                display.textContent = formatTime(0);

                            });

                        `;

                        break;

                    case 'password-generator':

                        toolHtml = `

                            <div class="tool-container">

                                <h3>Random Password Generator</h3>

                                <label for="passLength">Password Length:</label>

                                <input type="number" id="passLength" class="tool-input" value="12" min="4" max="64">



                                <input type="checkbox" id="includeUppercase" checked> <label for="includeUppercase">Include Uppercase</label><br>

                                <input type="checkbox" id="includeLowercase" checked> <label for="includeLowercase">Include Lowercase</label><br>

                                <input type="checkbox" id="includeNumbers" checked> <label for="includeNumbers">Include Numbers</label><br>

                                <input type="checkbox" id="includeSymbols"> <label for="includeSymbols">Include Symbols</label><br>



                                <button class="tool-button" id="generatePassBtn" style="margin-top: 15px;">Generate Password</button>

                                <input type="text" id="generatedPassword" class="tool-output" readonly style="margin-top: 15px;" placeholder="Your password will appear here...">

                                <button class="tool-button" data-action="copy-pass" style="margin-top: 10px;">Copy Password</button>

                            </div>

                        `;

                        toolScript = `

                            const passLength = document.getElementById('passLength');

                            const includeUppercase = document.getElementById('includeUppercase');

                            const includeLowercase = document.getElementById('includeLowercase');

                            const includeNumbers = document.getElementById('includeNumbers');

                            const includeSymbols = document.getElementById('includeSymbols');

                            const generatePassBtn = document.getElementById('generatePassBtn');

                            const generatedPassword = document.getElementById('generatedPassword');



                            const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

                            const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';

                            const numberChars = '0123456789';

                            const symbolChars = '!@#$%^&*()-_+=[]{}|;:,.<>?';



                            generatePassBtn.addEventListener('click', () => {

                                let chars = '';

                                if (includeUppercase.checked) chars += uppercaseChars;

                                if (includeLowercase.checked) chars += lowercaseChars;

                                if (includeNumbers.checked) chars += numberChars;

                                if (includeSymbols.checked) chars += symbolChars;



                                if (chars === '') {

                                    generatedPassword.value = 'Select at least one character type.';

                                    return;

                                }



                                let password = '';

                                const length = parseInt(passLength.value);

                                if (isNaN(length) || length < 4) { // Minimum length for some variety

                                    generatedPassword.value = 'Length must be a number >= 4.';

                                    return;

                                }



                                // Ensure at least one of each selected type is included if possible

                                if (includeUppercase.checked && length > 0) {

                                    password += uppercaseChars[Math.floor(Math.random() * uppercaseChars.length)];

                                }

                                if (includeLowercase.checked && length > 0) {

                                    password += lowercaseChars[Math.floor(Math.random() * lowercaseChars.length)];

                                }

                                if (includeNumbers.checked && length > 0) {

                                    password += numberChars[Math.floor(Math.random() * numberChars.length)];

                                }

                                if (includeSymbols.checked && length > 0) {

                                    password += symbolChars[Math.floor(Math.random() * symbolChars.length)];

                                }



                                // Fill the rest of the password length

                                for (let i = password.length; i < length; i++) {

                                    const randomIndex = Math.floor(Math.random() * chars.length);

                                    password += chars[randomIndex];

                                }



                                // Shuffle the password to randomize character positions

                                // Convert string to array, shuffle, then join back to string

                                generatedPassword.value = password.split('').sort(() => Math.random() - 0.5).join('');

                            });



                            document.querySelector('#modal-tool-container [data-action="copy-pass"]').addEventListener('click', () => {

                                generatedPassword.select();

                                document.execCommand('copy');

                                alert('Password copied to clipboard!');

                            });

                        `;

                        break;

                    default:

                        toolHtml = `<p>Tool not found.</p>`;

                }

                modalToolContainer.innerHTML = toolHtml;

                // Execute the script for the loaded tool

                if (toolScript) {

                    const scriptElement = document.createElement('script');

                    scriptElement.textContent = toolScript;

                    modalToolContainer.appendChild(scriptElement);

                }

            }

        });

    </script>

</body>

</html>
